@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

:root { --glow: #ff0000; --bg: rgba(255, 0, 0, 0.05); }
body.theme-green { --glow: #00ff41; --bg: rgba(0, 255, 65, 0.05); }
body.theme-terminator { --glow: #ff1111; --bg: rgba(255, 0, 0, 0.1); }

:root { --glow: #00f2ff; } /* Tron Cyan/Blue is the classic look */
body.theme-red { --glow: #ff0000; } 
body.theme-terminator { --glow: #ff1111; }

/* TRON THEME: Horizontal Laser Grid */
body.theme-tron #matrix-canvas {
    filter: hue-rotate(0deg);
}

/* TERMINATOR THEME: Tactical Distortion */
body.theme-terminator #scanner-box {
    border-color: #ff0000;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
}

body, html { margin: 0; background: #000; color: var(--glow); font-family: 'Share Tech Mono', monospace; height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; }

#matrix-canvas { position: fixed; inset: 0; z-index: 1; opacity: 0.6; pointer-events: none; filter: blur(0.5px); }

/* The Master Interface */
.master-frame { position: relative; z-index: 100; width: 320px; border: 2px solid var(--glow); background: rgba(0,0,0,0.92); padding: 15px; box-shadow: 0 0 40px rgba(0,0,0,1), inset 0 0 10px var(--bg); }
.hud-header { display: flex; justify-content: space-between; font-size: 9px; margin-bottom: 10px; border-bottom: 1px solid var(--glow); padding-bottom: 5px; opacity: 0.8; }

#scanner-box { width: 290px; height: 290px; margin: 0 auto 15px; position: relative; border: 1px solid var(--glow); overflow: hidden; }
video { width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); }

/* TERMINATOR HUD: The real deal */
body.theme-terminator video { filter: saturate(6) contrast(1.4) brightness(0.6) sepia(1) hue-rotate(-50deg); }
#term-hud { display: none; position: absolute; inset: 0; z-index: 45; pointer-events: none; }
body.theme-terminator #term-hud { display: block; }
.scanlines { position: absolute; inset: 0; background: repeating-linear-gradient(rgba(0,0,0,0) 0px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0) 4px); }
.vignette { position: absolute; inset: 0; background: radial-gradient(circle, transparent 40%, rgba(255,0,0,0.3) 100%); }

/* AI MESH WINDOW */
#ai-layer { position: absolute; inset: 0; z-index: 50; background: #000; transition: opacity 0.8s; }
#ai-canvas { width: 100%; height: 100%; }
#ai-tag { position: absolute; bottom: 10px; width: 100%; text-align: center; font-size: 10px; letter-spacing: 2px; }

/* Face Targeting Brackets */
#face-reticle { position: absolute; display: none; z-index: 60; border: 1px solid rgba(255,255,255,0.1); }
.bracket { position: absolute; width: 12px; height: 12px; border: 2px solid var(--glow); }
.tl { top: -2px; left: -2px; border-right: 0; border-bottom: 0; }
.tr { top: -2px; right: -2px; border-left: 0; border-bottom: 0; }
.bl { bottom: -2px; left: -2px; border-right: 0; border-top: 0; }
.br { bottom: -2px; right: -2px; border-left: 0; border-top: 0; }
.id-tag { position: absolute; top: -15px; left: 0; font-size: 8px; background: var(--glow); color: #000; padding: 0 4px; }

#laser-scanner { position: absolute; width: 100%; height: 2px; background: var(--glow); box-shadow: 0 0 15px var(--glow); z-index: 70; display: none; animation: scan 2.5s infinite linear; }
@keyframes scan { from { top: 0; } to { top: 100%; } }

.terminal-log { background: #050505; color: var(--glow); font-size: 10px; padding: 10px; margin-bottom: 10px; border: 1px solid rgba(var(--glow), 0.2); }
.progress-outer { width: 100%; height: 4px; background: #111; margin-bottom: 15px; }
#progress-inner { width: 0%; height: 100%; background: var(--glow); box-shadow: 0 0 10px var(--glow); transition: 0.1s; }

/* Settings Restored */
#settings-trigger { position: fixed; top: 20px; right: 20px; z-index: 500; cursor: pointer; border: 1px solid var(--glow); padding: 8px 12px; background: #000; font-size: 12px; }
#settings-panel { position: fixed; right: -320px; top: 0; width: 260px; height: 100%; background: rgba(0,0,0,0.98); border-left: 1px solid var(--glow); padding: 30px; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1000; }
#settings-panel.open { right: 0; }
.panel-header { font-size: 16px; margin-bottom: 30px; border-bottom: 1px solid var(--glow); padding-bottom: 10px; }
.setting-item { margin-bottom: 25px; }
.setting-item label { font-size: 10px; display: block; margin-bottom: 8px; opacity: 0.7; }
select { width: 100%; background: #111; color: var(--glow); border: 1px solid var(--glow); padding: 10px; font-family: inherit; }

button { width: 100%; padding: 16px; background: transparent; color: var(--glow); border: 1px solid var(--glow); cursor: pointer; font-family: inherit; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; transition: 0.3s; }
button:hover { background: var(--glow); color: #000; }